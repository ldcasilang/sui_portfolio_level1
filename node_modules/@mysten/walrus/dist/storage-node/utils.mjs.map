{"version":3,"file":"utils.mjs","names":[],"sources":["../../src/storage-node/utils.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nexport type HeadersLike = Record<string, string | string[] | undefined> | RequestInit['headers'];\n\nexport function mergeHeaders(...headers: (HeadersLike | undefined)[]): Headers {\n\tconst mergedHeaders = new Headers();\n\n\tfor (const header of headers) {\n\t\tif (!header || typeof header !== 'object') {\n\t\t\tcontinue;\n\t\t}\n\n\t\tfor (const [key, value] of Object.entries(header)) {\n\t\t\tif (value === null) {\n\t\t\t\tmergedHeaders.delete(key);\n\t\t\t} else if (Array.isArray(value)) {\n\t\t\t\tfor (const v of value) {\n\t\t\t\t\tmergedHeaders.append(key, v as string);\n\t\t\t\t}\n\t\t\t} else if (value !== undefined) {\n\t\t\t\tmergedHeaders.set(key, value);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn mergedHeaders;\n}\n"],"mappings":";AAKA,SAAgB,aAAa,GAAG,SAA+C;CAC9E,MAAM,gBAAgB,IAAI,SAAS;AAEnC,MAAK,MAAM,UAAU,SAAS;AAC7B,MAAI,CAAC,UAAU,OAAO,WAAW,SAChC;AAGD,OAAK,MAAM,CAAC,KAAK,UAAU,OAAO,QAAQ,OAAO,CAChD,KAAI,UAAU,KACb,eAAc,OAAO,IAAI;WACf,MAAM,QAAQ,MAAM,CAC9B,MAAK,MAAM,KAAK,MACf,eAAc,OAAO,KAAK,EAAY;WAE7B,UAAU,OACpB,eAAc,IAAI,KAAK,MAAM;;AAKhC,QAAO"}