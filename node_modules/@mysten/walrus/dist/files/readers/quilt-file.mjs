//#region src/files/readers/quilt-file.ts
var QuiltFileReader = class {
	#quilt;
	#sliverIndex;
	#identifier;
	#tags;
	constructor({ quilt, sliverIndex, identifier, tags }) {
		this.#quilt = quilt;
		this.#sliverIndex = sliverIndex;
		this.#identifier = identifier ?? null;
		this.#tags = tags;
	}
	async getBytes() {
		const { blobContents, identifier, tags } = await this.#quilt.readBlob(this.#sliverIndex);
		this.#identifier = identifier;
		this.#tags = tags ?? {};
		return blobContents;
	}
	async getIdentifier() {
		if (this.#identifier !== null) return this.#identifier;
		this.#identifier = (await this.#quilt.getBlobHeader(this.#sliverIndex)).identifier;
		return this.#identifier;
	}
	async getTags() {
		if (this.#tags !== void 0) return this.#tags;
		this.#tags = (await this.#quilt.getBlobHeader(this.#sliverIndex)).tags ?? {};
		return this.#tags;
	}
};

//#endregion
export { QuiltFileReader };
//# sourceMappingURL=quilt-file.mjs.map